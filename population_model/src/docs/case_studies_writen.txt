Note on vocabulary // Need to go through and make sure this is consistent throughout
Where the phrase 'paper records' is used this is referring to the records that exist in the pre linked dataset.
Within the specified data structures, 'links' will be seen that go from an intermediary object in the structure to a person object. Due to the complications arising from such a structure representing the output of an underling linkage process, although the links in the below figures are conceptually easy to think of as links, I will use the term 'edge' akin to its use in graph theory to maintain clarity of meaning.

Aim

The aim of this project was to look at ways of structuring and representing linked data sets where uncertainty, by the way of multiple co-existing linkage solutions, has been produced by the linkage process of multiple data sets. The domain of focus is genealogical linkage and the created data structures represents the multiple possible pedigrees that possibly reside within the linked data sets. Although the initial consideration of the construction of the data structures have been based on a loose relation to birth and marriage records, especial care has been taken to remain record agnostic and to build structures that avoid making assumptions of the underlying records and are able to express any permissible genealogical structuring.

Approach

The approach to doing this began with an initial specification that had been laid down during previous research work. The next step was to expand on this so to allow the many possible genealogical and uncertainty permutations to be represented, while also offering a structuring that enables restrictions to be placed within the data structure.

Start point

The initial interfaces for the data consisted of person and partnership objects. In this initial implementation a person has a number of partnerships of which they are a member and a single partnership of which they are the child. A partnership has a single male and female member and also a list children. The assumption in the use of this structure is that any children listed are known children of the given parents of which there is only one given pairing. The restrictions in this structure impose limitations to the complexity of the scenarios that can be modelled using the initial interfaces.

It could be considered that the existing interfaces be used with a new set of assumptions to allow uncertainty to be represented, an approach to such would be to create a partnership object for each possible paring permutation that the linkage algorithm identifies and then to place the children possibly for each permuted partnership into the list of children, however it can be easily seen that the massive number of partnership objects that this would cause to exist would be difficult to understand and to abstract the possible pedigrees from. Also maintaining the current interfaces would mean that there would be nowhere in the structure to indicate the likelihood of one linkage solution over another and the provenance and reasoning behind each edge.

From the above it can be seen that the interfaces need opening up and modifying to allow more freedom of expression. The approaches discussed below first focus on creating a set of interfaces which are sufficiently expressive followed by considering ways to apply constraints to these structures to restrict complexity of the created genealogical structures.

Case study

The reason for the adjustments that are required to be made to the interfaces and the design of the created data structures are best seen when case studies reflective of real genealogical possibilities are considered and how the required expression can be achieved.

Child, parents case study

Firstly we can consider a single child with a set of possible mothers and fathers. Biological we can be certain of the child having one father and one mother, although they may not reside within the dataset. Therefore for each possible parent there will be an amount of certainty associated with the link. There also will be an amount of consideration to be given to the linkage between each possible permutation of parental parings.

Working from these basic requirements and understandings we can start to define data structures which are compatible.

As can be seen in figure <Tree_a> a family tree depicts the given case study. In a sense this same diagram represents the given structure under the initial interface of a child with a parental partnership which in turn has a male and female member. If we are then to extend this to suppose that Y represents a set of males {B, C} and X a set of females {D, E, F} the initial structure is no longer able to express this. If we now consider the structure as laid out in figure <Struct_a> we see a structure where A is the child of the partnership alpha to which two fathers are linked and three mothers. This structure allows the idea of pairing between parents as well as a concept of parenthood, rather than a more free form structure as seen in figure <Struct_alt_a> when links exist solely between individuals. The introduction of links into the structures means that information can be attached to these edges that denotes the provenance for the edge between the two connected entities. It may make sense to add an edge between the tail of the partnership alpha and the child A, both to allow for information to reside here but also to maintain consistency in the structuring, this will be further discussed in the next section.

Child, parents, sibling (Same parental sets for both siblings)

The next case study considered contains multiple children of a single set of parents as depicted by the family tree in figure <Tree_b>. The initial though here is to add multiple edges to the bottom of partnership alpha as seen in figure <Struct_b>. This structuring allows the stipulation that the sets of parents of A as found in the previous case study extend to G and by the nature of the structure that whichever parental pairing is taken for A must also be taken for G. However given that we wish not to make assumptions regarding the underlying data available to us it is possible that the set of fathers and mothers for A and G will not be the identical given the complexities of linkage processes and thus it is likely that the sets offered will be a subset, superset or intersect of one another. If we extend this into a new case study the issue can be made clearer.

Child, parents, sibling (Same parental sets vary between siblings)

The next case study shown in figure <Struct_c> builds upon the previous structure but introduces the stipulation that A's set of fathers is {B, C} thus intersecting G's set of fathers which are {B, H}. This can be seen in the colourings present in <Struct_c>. However if we now remove the assumption that A and G are full siblings and that they could be half siblings or unrelated we introduce the possibility that the parental partnerships of A and G are not the equal and thus that the current structure is unable to express the desired pedigree. The only time we can make use of this structure is where we can be certain of A and G sharing the same pairing of parents, which we cannot assert without more complete knowledge of our data, which we are not able to assume. Therefore we need to further generalise the use of the structure to express this.

If we consider figure <Struct_d> we can see a more generalised way of expressing a possible sibling relationship between A and G with the further addition of a possible mother I to person G to demonstrate a latter point. This allows for a wider set of possibilities to be presented in the given structure. This set of possibilities includes the possibility that A and G both have an entirely distinct pair of parents (e.g. {A: C, F}, {G: H, I}), that they are half siblings either by a shared mother (e.g. {A: C, D}, {G: H, D}) or a shared father (e.g. {A: B, F}, {G: B, I}), or that they are full siblings (e.g. {A: B, E}, {G: B, E}).

Next if we reinstate the stipulation that A are G are siblings. We cannot return to the structure as seen in figure <Struct_c> due to the need to maintain the additional information pertaining to the possible discrete parent linkages and especially in the light of uncertainty as will be further discussed later.

If we introduce a sibling intermediary object as can be seen in figure <Struct_e> we can infer that A and G are siblings and from which build a picture with greater certainty of the likely topology of the pedigree.  

An aside note about inferring siblings with certainty without definite knowledge from census or similar data. This is not something that would be present in the current Digitising Scotland dataset but as stated at the outset the designed structure aims to be general enough to express any logical possibility and thus not be dependent on representing linked data only arising from a certain specification of 'paper record'. An example of a real 'paper record' from which a certain sibling linkage could be inferred could be seen in family census records.

Also the people linked to a sibling object cannot be asserted absolutely and thus multiple people may emerge from either end of a sibling object, this will be explored with a more complex example in the case study see in figure <FIG>. Before discussing this further though it will be useful to discuss the edges in the graph and the annotations that will be found upon them if the structure is to fulfill its requirements.

Uncertainty

Now that we have constructed a structure with a reasonable degree of expression and started to put in place approaches to constrain the permutations of such where further logical information is held, it may be worthwhile to discuss the uncertainty within the structure before moving on to considering how the structure scales, both computationally and conceptually.

As can be seen in figure <Struct_e> there are multiple edges emanating from the right connection point of the object alpha, these represent three possibly mothers of A, however we know that in reality it is only possible for one of the persons D, E and F to be the mother of A. However given the uncertainty inherent within linkage our structures are not desiring to make a definitive affirmative indication of a single edge, but instead look to present a range of edges. The usability of the given edges nether less will benefit from having a metric of which edges are more likely and which are less.

The root of any linkage lies in the 'paper records' of the original datasets, therefore from an informed human perspective it is important that these records which give provenance to a linkage are identifiable on each edge. The underlying certainty of a given edge will either need to be provided by the linkage process or for it to be possible to recreate the certainty value from the provided provenance records. The use of these values when queries are made is discussed in section <SEC>. The placing of information on edges will require some significant changes to the interfaces which are discussed in section <SEC>.

One to one object enforcement

Another important concept within the defined structure is of one to one object enforcement. It will be important to ensure that the underlying linkage problem will enforce this constraint on the produced set of linkages. This assertion can be made from a set of absolute truths that are defined by the nature of all 'paper records'. Take for example a birth record there is no more than one for each person detailed in the data set therefore we can enforce that only one person be assigned to a the base of an intermediary partnership object and then the attachments to its mother and father points are the possible sets of parents in relation to the linked child. The enforcement of such allows for a structure which can be addressed from a single person and the uncertainty is encapsulated in the 'sideward steps' in the structure. This gives sufficient expression in the data structure to express the logical genealogical possibilities and therefore there is no reason to allow the uncertainty in the structure to spread beyond its current place.


//This bit need looking over again
Another set of relations that also need to be restricted using one to one enforcement is the sibling relationship objects, again we know that for each object int he representation that we construct that there is one and only one piece of information on a record that pertains to that object. The number of links however off the ends of the intermidiary partnership objects can point to any number of persons.

// Extend discussion to marraiges and pairwise sibling relationships


Is a pairing given on a marraiage record flattenable upon the birth record giving the same pairing, or at least given a certain amount of certainty - is this LA level or respresentation level?

// enforcement of one sibling linkage object to one underlying linkage in dataset

// enforcement of one birth/partnership linkage object to one underlying linkage in 

// Case study with multiple peeps off sibling object

// marriage linkage and supported use
	stationing of anti-evidence on a marriage object to exclude a set of possibilities that are given as links (is this poss?)

// Querying

	// Possible permetations queries based on a root individual

// Wider setting

	//
